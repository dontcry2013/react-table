{"version":3,"sources":["redux/user/userTypes.js","redux/user/userReducer.js","redux/post/postTypes.js","redux/post/postReducer.js","redux/rootReducer.js","columns/userColumns.js","redux/user/userActions.js","redux/post/postActions.js","columns/postColumns.js","components/PostsTable.js","Constants.js","components/TableContainer.js","App.js","index.js"],"names":["initialState","loading","users","error","reducer","state","action","type","Object","objectSpread2","payload","posts","rootReducer","combineReducers","user","userReducer","post","postReducer","userColumns","title","dataIndex","key","render","record","address","city","company","name","fetchUsersRequest","fetchUsersSuccess","fetchUsersFailure","fetchPostsRequest","fetchPostsSuccess","fetchPostsFailure","postColumns","PostsTable","data","react_default","a","createElement","row","table","rowKey","dataSource","columns","pagination","URL_PRO","Search","Input","TableContainer","dispatch","useDispatch","tableState","useSelector","postSelected","_useState","useState","_useState2","slicedToArray","searchVal","setSearchVal","_useState3","_useState4","filteredData","setFilteredData","_useState5","_useState6","searchIndex","setSearchIndex","_useState7","_useState8","isModalVisible","setIsModalVisible","_useState9","_useState10","postState","setPostState","useEffect","uri","axios","get","concat","then","response","catch","message","fetchUsers","crawl","allValues","push","searchInd","map","toString","handleData","reqData","index","toLowerCase","indexOf","filter","onChange","e","target","value","placeholder","enterButton","style","position","top","left","width","margin","onRow","onClick","userId","fetchPosts","id","modal","visible","onOk","onCancel","store","createStore","applyMiddleware","thunk","App","es","rootElement","document","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.f349f2d0.chunk.js","sourcesContent":["export const FETCH_USERS_REQUEST = \"FETCH_USERS_REQUEST\";\nexport const FETCH_USERS_SUCCESS = \"FETCH_USERS_SUCCESS\";\nexport const FETCH_USERS_FAILURE = \"FETCH_USERS_FAILURE\";\n","import * as userTypes from \"./userTypes\";\n\nconst initialState = {\n  loading: false,\n  users: [],\n  error: \"\"\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case userTypes.FETCH_USERS_REQUEST:\n      return {\n        ...state,\n        loading: true\n      };\n    case userTypes.FETCH_USERS_SUCCESS:\n      return {\n        loading: false,\n        users: action.payload,\n        error: \"\"\n      };\n    case userTypes.FETCH_USERS_FAILURE:\n      return {\n        loading: false,\n        users: [],\n        error: action.payload\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","export const FETCH_POST_REQUEST = \"FETCH_POST_REQUEST\";\nexport const FETCH_POST_SUCCESS = \"FETCH_POST_SUCCESS\";\nexport const FETCH_POST_FAILURE = \"FETCH_POST_FAILURE\";","import * as postTypes from \"./postTypes\";\n\nconst initialState = {\n  loading: false,\n  posts: [],\n  error: \"\"\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case postTypes.FETCH_POST_REQUEST:\n      return {\n        ...state,\n        loading: true\n      };\n    case postTypes.FETCH_POST_SUCCESS:\n      return {\n        loading: false,\n        posts: action.payload,\n        error: \"\"\n      };\n    case postTypes.FETCH_POST_FAILURE:\n      return {\n        loading: false,\n        posts: [],\n        error: action.payload\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { combineReducers } from \"redux\";\nimport userReducer from \"./user/userReducer\";\nimport postReducer from \"./post/postReducer\";\n\nconst rootReducer = combineReducers({\n  user: userReducer,\n  post: postReducer,\n});\n\nexport default rootReducer;\n","export const userColumns = [\r\n  {\r\n    title: \"Name\",\r\n    dataIndex: \"name\",\r\n    key: \"name\"\r\n  },\r\n  {\r\n    title: \"Email\",\r\n    dataIndex: \"email\",\r\n    key: \"email\"\r\n  },\r\n  {\r\n    title: \"City\",\r\n    key: \"city\",\r\n    render: record => {\r\n      return record.address.city;\r\n    }\r\n  },\r\n  {\r\n    title: \"Company\",\r\n    key: \"company\",\r\n    render: record => {\r\n      return record.company.name;\r\n    }\r\n  },\r\n];\r\n","import axios from \"axios\";\nimport {\n  FETCH_USERS_REQUEST,\n  FETCH_USERS_SUCCESS,\n  FETCH_USERS_FAILURE\n} from \"./userTypes\";\n\nexport const fetchUsers = (uri) => {\n  return (dispatch) => {\n    dispatch(fetchUsersRequest());\n    return axios\n      .get(`${uri}/users`)\n      .then((response) => {\n        // response.data is the users\n        const users = response.data;\n        dispatch(fetchUsersSuccess(users));\n      })\n      .catch((error) => {\n        // error.message is the error message\n        dispatch(fetchUsersFailure(error.message));\n      });\n  };\n};\n\nexport const fetchUsersRequest = () => {\n  return {\n    type: FETCH_USERS_REQUEST\n  };\n};\n\nexport const fetchUsersSuccess = (users) => {\n  return {\n    type: FETCH_USERS_SUCCESS,\n    payload: users\n  };\n};\n\nexport const fetchUsersFailure = (error) => {\n  return {\n    type: FETCH_USERS_FAILURE,\n    payload: error\n  };\n};\n","import axios from \"axios\";\nimport {\n  FETCH_POST_REQUEST,\n  FETCH_POST_SUCCESS,\n  FETCH_POST_FAILURE,\n} from './postTypes';\n\nexport const fetchTestPosts = () => {\n  return (dispatch) => {\n    dispatch(fetchPostsRequest());\n    return axios\n      .get(\"/posts?userId=1\")\n      .then((response) => {\n        const posts = response.data;\n        dispatch(fetchPostsSuccess(posts));\n      })\n      .catch((error) => {\n        console.log(error)\n        dispatch(fetchPostsFailure(error.message));\n      });\n  };\n};\nexport const fetchPosts = (uri, userId) => {\n  return (dispatch) => {\n    dispatch(fetchPostsRequest());\n    return axios\n      .get(`${uri}/posts?userId=${userId}`)\n      .then((response) => {\n        const posts = response.data;\n        dispatch(fetchPostsSuccess(posts));\n      })\n      .catch((error) => {\n        dispatch(fetchPostsFailure(error.message));\n      });\n  };\n};\n\nexport const fetchPostsRequest = () => {\n  return {\n    type: FETCH_POST_REQUEST\n  };\n};\n\nexport const fetchPostsSuccess = (posts) => {\n  return {\n    type: FETCH_POST_SUCCESS,\n    payload: posts\n  };\n};\n\nexport const fetchPostsFailure = (error) => {\n  return {\n    type: FETCH_POST_FAILURE,\n    payload: error\n  };\n};\n","export default [\n  {\n    title: \"Title\",\n    dataIndex: \"title\",\n    key: \"title\"\n  },\n  {\n    title: \"Body\",\n    dataIndex: \"body\",\n    key: \"body\"\n  },\n];\n","import React from 'react';\nimport { Table, Row } from 'antd';\nimport postColumns from '../columns/postColumns'\n\nexport default ({data, loading}) => {\n\n  return (\n    <Row>\n      <Table\n        rowKey=\"title\"\n        dataSource={data}\n        columns={postColumns}\n        loading={loading}\n        pagination={false}\n      />\n    </Row>\n  )\n}","export const URL_TEST = '';\nexport const URL_PRO = 'https://jsonplaceholder.typicode.com';","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Table, Input, Modal, Row } from 'antd';\nimport { userColumns } from \"../columns/userColumns\";\nimport { fetchUsers } from \"../redux/user\";\nimport { fetchPosts } from \"../redux/post\";\nimport PostsTable from '../components/PostsTable';\nimport { URL_PRO } from '../Constants';\n\nconst { Search } = Input;\n\nexport default () => {\n  const dispatch = useDispatch();\n  const tableState = useSelector((state) => state.user);\n  const postSelected = useSelector((state) => state.post);\n  const [searchVal, setSearchVal] = useState(null);\n  const [filteredData, setFilteredData] = useState([]);\n  const [searchIndex, setSearchIndex] = useState([]);\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [postState, setPostState] = useState({ loading: false, posts: [] });\n\n  useEffect(() => {\n    dispatch(fetchUsers(URL_PRO));\n  }, []);\n  \n  useEffect(() => {\n    setPostState(postSelected);\n  }, [postSelected]);\n\n  useEffect(() => {\n    const crawl = (user, allValues) => {\n      if (!allValues) allValues = [];\n      for (var key in user) {\n        if (typeof user[key] === \"object\") crawl(user[key], allValues);\n        else allValues.push(user[key] + \" \");\n      }\n      return allValues;\n    };\n    const handleData = () => {\n      setFilteredData(tableState.users);\n      const searchInd = tableState.users.map(user => {\n        const allValues = crawl(user);\n        return { allValues: allValues.toString() };\n      });\n      setSearchIndex(searchInd);\n    };\n    handleData();\n  }, [tableState]);\n\n  useEffect(() => {\n    if (searchVal) {\n      const reqData = searchIndex.map((user, index) => {\n        if (user.allValues.toLowerCase().indexOf(searchVal.toLowerCase()) >= 0)\n          return tableState.users[index];\n        return null;\n      });\n      setFilteredData(\n        reqData.filter(user => {\n          if (user) return true;\n          return false;\n        })\n      );\n    } else {\n      setFilteredData(tableState.users);\n    }\n  }, [searchVal, tableState]);\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  return (\n    <div>\n      <Search\n        onChange={(e) => setSearchVal(e.target.value)}\n        placeholder=\"Search\"\n        enterButton\n        style={{\n          position: \"sticky\",\n          top: \"0\",\n          left: \"0\",\n          width: \"200px\",\n          margin: \"2vh\"\n        }}\n      />\n      <Table\n        rowKey=\"name\"\n        dataSource={filteredData}\n        columns={userColumns}\n        loading={tableState.loading}\n        pagination={false}\n        style={{\n          margin: \"2vh\"\n        }}\n        onRow={(record) => {\n          return {\n            onClick: () => {\n              setPostState({\n                ...postState,\n                loading: true\n              });\n              setIsModalVisible(true);\n              dispatch(fetchPosts(URL_PRO, record.id));\n            },\n          };\n        }}\n      />\n      <Modal\n        title=\"Posts\"\n        width={1000}\n        style={{ top: 20 }}\n        visible={isModalVisible}\n        onOk={handleOk}\n        onCancel={handleCancel}\n        >\n        <PostsTable data={postState.posts} loading={postState.loading} />\n      </Modal>\n    </div>\n  )\n}","import React from \"react\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport thunk from \"redux-thunk\";\nimport \"antd/dist/antd.css\";\nimport rootReducer from './redux/rootReducer';\nimport TableContainer from './components/TableContainer';\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\n\nexport default function App() {\n  return (\n    <Provider store={store}>\n      <TableContainer />\n    </Provider>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}