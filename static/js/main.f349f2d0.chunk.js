(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{203:function(e,t,a){e.exports=a(390)},390:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(9),r=a.n(c),s=a(56),l=a(80),i=a(176),d=(a(213),a(41));const u={loading:!1,users:[],error:""};var E=(e=u,t)=>{switch(t.type){case"FETCH_USERS_REQUEST":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"FETCH_USERS_SUCCESS":return{loading:!1,users:t.payload,error:""};case"FETCH_USERS_FAILURE":return{loading:!1,users:[],error:t.payload};default:return e}};const p={loading:!1,posts:[],error:""};var S=(e=p,t)=>{switch(t.type){case"FETCH_POST_REQUEST":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"FETCH_POST_SUCCESS":return{loading:!1,posts:t.payload,error:""};case"FETCH_POST_FAILURE":return{loading:!1,posts:[],error:t.payload};default:return e}};var y=Object(s.c)({user:E,post:S}),O=a(81),b=a(396),m=a(394),g=a(395);const j=[{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"City",key:"city",render:e=>e.address.city},{title:"Company",key:"company",render:e=>e.company.name}];var C=a(87),_=a.n(C);const T=()=>({type:"FETCH_USERS_REQUEST"}),f=e=>({type:"FETCH_USERS_SUCCESS",payload:e}),h=e=>({type:"FETCH_USERS_FAILURE",payload:e}),U=()=>({type:"FETCH_POST_REQUEST"}),F=e=>({type:"FETCH_POST_SUCCESS",payload:e}),w=e=>({type:"FETCH_POST_FAILURE",payload:e});var R=a(397),v=[{title:"Title",dataIndex:"title",key:"title"},{title:"Body",dataIndex:"body",key:"body"}],H=({data:e,loading:t})=>o.a.createElement(R.a,null,o.a.createElement(m.a,{rowKey:"title",dataSource:e,columns:v,loading:t,pagination:!1}));const k="https://jsonplaceholder.typicode.com",I=b.a.Search;var x=()=>{const e=Object(l.b)(),t=Object(l.c)(e=>e.user),a=Object(l.c)(e=>e.post),c=Object(n.useState)(null),r=Object(O.a)(c,2),s=r[0],i=r[1],u=Object(n.useState)([]),E=Object(O.a)(u,2),p=E[0],S=E[1],y=Object(n.useState)([]),b=Object(O.a)(y,2),C=b[0],R=b[1],v=Object(n.useState)(!1),x=Object(O.a)(v,2),P=x[0],L=x[1],A=Object(n.useState)({loading:!1,posts:[]}),Q=Object(O.a)(A,2),B=Q[0],J=Q[1];Object(n.useEffect)(()=>{e((e=>t=>(t(T()),_.a.get("".concat(e,"/users")).then(e=>{const a=e.data;t(f(a))}).catch(e=>{t(h(e.message))})))(k))},[]),Object(n.useEffect)(()=>{J(a)},[a]),Object(n.useEffect)(()=>{const e=(t,a)=>{for(var n in a||(a=[]),t)"object"===typeof t[n]?e(t[n],a):a.push(t[n]+" ");return a};(()=>{S(t.users);const a=t.users.map(t=>({allValues:e(t).toString()}));R(a)})()},[t]),Object(n.useEffect)(()=>{if(s){const e=C.map((e,a)=>e.allValues.toLowerCase().indexOf(s.toLowerCase())>=0?t.users[a]:null);S(e.filter(e=>!!e))}else S(t.users)},[s,t]);return o.a.createElement("div",null,o.a.createElement(I,{onChange:e=>i(e.target.value),placeholder:"Search",enterButton:!0,style:{position:"sticky",top:"0",left:"0",width:"200px",margin:"2vh"}}),o.a.createElement(m.a,{rowKey:"name",dataSource:p,columns:j,loading:t.loading,pagination:!1,style:{margin:"2vh"},onRow:t=>({onClick:()=>{J(Object(d.a)(Object(d.a)({},B),{},{loading:!0})),L(!0),e(((e,t)=>a=>(a(U()),_.a.get("".concat(e,"/posts?userId=").concat(t)).then(e=>{const t=e.data;a(F(t))}).catch(e=>{a(w(e.message))})))(k,t.id))}})}),o.a.createElement(g.a,{title:"Posts",width:1e3,style:{top:20},visible:P,onOk:()=>{L(!1)},onCancel:()=>{L(!1)}},o.a.createElement(H,{data:B.posts,loading:B.loading})))};const P=Object(s.d)(y,Object(s.a)(i.a));function L(){return o.a.createElement(l.a,{store:P},o.a.createElement(x,null))}const A=document.getElementById("root");r.a.render(o.a.createElement(L,null),A)}},[[203,1,2]]]);
//# sourceMappingURL=main.f349f2d0.chunk.js.map